define(function(e,t,o){var s=e("moveTween.js").tween,n=e("degMove.js").degMove;t.show=function(){!function(){var e=$("#fix-header"),t=($("#home-con"),$("#works")),o=($(".planet"),e.find("li")),i=$("#works ul"),a=$("#works li"),c=$("#works p");$(".roto").outerWidth()/2;o.mouseover(function(){o.each(function(){o.removeClass("ac")}),$(this).addClass("ac")}),o.click(function(){1==$(this).index()&&t.show()}),$(window).scroll(function(){var n=$(window).scrollTop(),i=1-n/500;i<=.5&&(i=.5),e.css("height",120*i),i<.75?t.show(300,function(){o.removeClass("ac"),o.eq(1).addClass("ac")}):t.hide(1e3,function(){o.eq(1).removeClass("ac"),o.eq(0).addClass("ac")}),a.on("mouseover",function(e){var t=Math.abs(e.clientX-$(this).offset().left),o=Math.abs(e.clientX-$(this).offset().left-$(this).outerWidth()),i=Math.abs(e.clientY-($(this).offset().top-n)),l=Math.abs(e.clientY-($(this).offset().top+$(this).innerHeight()-n)),f=$(this).index(),r=e.fromElement||e.relatedTarget;if(!a.get(f).contains(r)){var h=[t,o,l,i].sort(function(e,t){return e-t});switch(h[0]){case t:c.eq(f).css({left:-200,top:-200});break;case o:c.eq(f).css({left:200,top:-200});break;case i:console.log(1),c.eq(f).css({left:0,top:-400});break;case l:c.eq(f).css({left:0,top:0})}s(c.get(f),{left:0,top:-203})}}),a.on("mouseout",function(e){var t=Math.abs(e.clientX-$(this).offset().left),o=Math.abs(e.clientX-$(this).offset().left-$(this).outerWidth()),i=Math.abs(e.clientY-($(this).offset().top-n)),l=Math.abs(e.clientY-($(this).offset().top+$(this).innerHeight()-n)),f=$(this).index(),r=e.toElement||e.relatedTarget;if(!a.get(f).contains(r)){var h=[t,o,l,i].sort(function(e,t){return e-t});switch(h[0]){case t:s(c.get(f),{left:-200,top:-200});break;case o:s(c.get(f),{left:200,top:-200});break;case i:s(c.get(f),{left:0,top:-400});break;case l:s(c.get(f),{left:0,top:0})}}})});var l=!1;i.click(function(e){var t=e.toElement||e.relatedTarget;t==i.get(0)&&(l?a.each(function(e,t){n(t,0,function(){i.css("marginLeft",-10),s(t,{left:200*e})})}):a.each(function(e,t){n(t,40*e)}),l=!l)})}(),function(){var e=$("#button"),t=$("#hide"),o=$("#layer"),s=$("#layer button"),n=$("#layer img"),i=$("#menu-container a");e.click(function(){t.toggle("slow",function(){e.val("隐藏")})});var a=0;console.log(i),i.click(function(e){a=$(this).index(),o.fadeIn(),n.get(0).src="img/images/gallery/"+(Math.abs(a)%17+1)+".jpg",console.log(a),console.log(e),console.log($(this).index())}),s.eq(0).click(function(){a++,n.get(0).src="img/images/gallery/"+(Math.abs(a)%17+1)+".jpg"}),s.eq(1).click(function(){o.fadeOut()}),s.eq(2).click(function(){a--,n.get(0).src="img/images/gallery/"+(Math.abs(a)%17+1)+".jpg"})}()}});